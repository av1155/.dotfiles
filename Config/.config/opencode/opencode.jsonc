{
    "$schema": "https://opencode.ai/config.json",
    "permission": {
        "bash": "ask",
        "edit": "ask",
        "webfetch": "allow",
    },

    "instructions": ["AGENTS.md", "docs/**/AGENTS.md", "docs/guidelines.md"],

    "formatter": {
        "prettier": {
            "command": ["prettier", "--config", "{env:HOME}/.prettierrc.json", "--write", "$FILE"],
        },
        "clang-format": {
            "command": ["clang-format", "-i", "-style=file", "$FILE"],
        },
        "stylua": {
            "command": ["stylua", "--config-path", "{env:HOME}/.config/nvim/stylua.toml", "$FILE"],
            "extensions": [".lua"],
        },
    },

    "mcp": {
        "git": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "mcp-server-git"],
        },
        "fetch": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "mcp-server-fetch"],
        },
        "time": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "mcp-server-time"],
        },
        "context7": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "@upstash/context7-mcp",
                "--api-key",
                "{env:CONTEXT7_API_KEY}",
            ],
            "enabled": true,
        },
        "playwright": {
            "type": "local",
            "enabled": false,
            "command": ["npx", "@playwright/mcp@latest"],
        },
        "firecrawl": {
            "type": "local",
            "enabled": false,
            "environment": { "FIRECRAWL_API_KEY": "{env:FIRECRAWL_API_KEY}" },
            "command": ["npx", "-y", "firecrawl-mcp"],
        },
        "filesystem": {
            "type": "local",
            "enabled": false,
            "command": ["npx", "-y", "@modelcontextprotocol/server-filesystem", "."],
        },
        "sequential-thinking": {
            "type": "local",
            "enabled": false,
            "command": ["npx", "-y", "@modelcontextprotocol/server-sequential-thinking"],
        },
    },
}
