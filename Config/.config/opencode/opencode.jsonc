{
    "$schema": "https://opencode.ai/config.json",

    "model": "anthropic/claude-sonnet-4-5-20250929",

    "permission": {
        "bash": "ask",
        "edit": "ask",
        "webfetch": "ask",
    },

    "plugin": ["opencode-openai-codex-auth"],

    "formatter": {
        "prettier": {
            "command": ["prettier", "--config", "{env:HOME}/.prettierrc.json", "--write", "$FILE"],
        },
        "clang-format": {
            "command": ["clang-format", "-i", "-style=file", "$FILE"],
        },
        "stylua": {
            "command": ["stylua", "--config-path", "{env:HOME}/.config/nvim/stylua.toml", "$FILE"],
            "extensions": [".lua"],
        },
    },

    "mcp": {
        "git": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "mcp-server-git"],
        },
        "time": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "mcp-server-time"],
        },
        "fetch": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "mcp-server-fetch"],
        },
        "firecrawl": {
            "type": "local",
            "enabled": true,
            "environment": { "FIRECRAWL_API_KEY": "{env:FIRECRAWL_API_KEY}" },
            "command": ["npx", "-y", "firecrawl-mcp"],
        },
        "brave-search": {
            "type": "local",
            "enabled": true,
            "environment": { "BRAVE_API_KEY": "{env:BRAVE_API_KEY}" },
            "command": ["npx", "-y", "@brave/brave-search-mcp-server"],
        },
        "duckduckgo": {
            "type": "local",
            "enabled": true,
            "command": ["uvx", "duckduckgo-mcp-server"],
        },
        "context7": {
            "type": "local",
            "enabled": true,
            "environment": { "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}" },
            "command": ["npx", "-y", "@upstash/context7-mcp"],
        },
        "playwright": {
            "type": "local",
            "enabled": true,
            "command": ["npx", "@playwright/mcp@latest", "--output-dir", "."],
        },
        "magic": {
            "type": "local",
            "enabled": true,
            "environment": { "API_KEY": "{env:MAGIC_MCP_API_KEY}" },
            "command": ["npx", "-y", "@21st-dev/magic@latest"],
        },
    },

    "tools": {
        "git*": false,
        "time*": false,
        "fetch*": false,
        "firecrawl*": false,
        "brave-search*": false,
        "duckduckgo*": false,
        "context7*": false,
        "playwright*": false,
        "magic*": false,
    },

    "agent": {
        "build": {
            "mode": "primary",
            "tools": {
                "write": true,
                "edit": true,
                "bash": true,
                "webfetch": false,
                "git*": true,
                "time*": true,
            },
        },
        "plan": {
            "mode": "primary",
            "tools": {
                "write": false,
                "edit": false,
                "bash": false,
                "webfetch": false,
            },
        },
    },

    "keybinds": {
        "leader": "ctrl+b",
        "tool_details": "<leader>d",
        "thinking_blocks": "<leader>b",
        "session_share": "<leader>s",
        "session_unshare": "none",
        "session_interrupt": "esc",
        "session_compact": "<leader>c",
        "session_child_cycle": "ctrl+alt+]",
        "session_child_cycle_reverse": "ctrl+alt+[",
        "messages_first": "ctrl+g",
        "messages_last": "ctrl+alt+g",
        "input_newline": "shift+enter,alt+j",
    },
}
